<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>2DËßíËâ≤ÁßªÂãïÁØÑ‰æã</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css">
    <style>
        body, html {
            height: 100%;
            margin: 0;
            overflow: hidden;
            background: #f0f8ff;
        }
        .game-area {
            position: relative;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
        .character {
            position: absolute;
            width: 80px;
            height: 80px;
            font-size: 60px;
            left: 50%;
            bottom: 10%;
            transform: translateX(-50%);
            transition: left 0.3s ease, bottom 0.3s ease;
        }
        .controller {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 20px;
        }
        .btn-move {
            width: 60px;
            height: 60px;
            font-size: 24px;
        }
    </style>
</head>
<body>

<!-- ÈÅäÊà≤ÂçÄÂüü -->
<div class="container-fluid game-area" id="gameArea">
    <div class="character" id="character">ü¶ä</div>
</div>

<!-- ÊéßÂà∂ÊåâÈàïÂçÄÂüü -->
<div class="controller">
    <button class="btn btn-primary btn-move" id="btnLeft">‚Üê</button>
    <button class="btn btn-success btn-move" id="btnJump">‚¨Ü</button>
    <button class="btn btn-primary btn-move" id="btnRight">‚Üí</button>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
<script>
    // ÈÅäÊà≤ËßíËâ≤ÊéßÂà∂
    const character = document.getElementById('character');
    const gameArea = document.getElementById('gameArea');
    let posX = gameArea.clientWidth / 2;
    let posY = 10; // Ë∑ùÈõ¢Â∫ïÈÉ®

    // ÁßªÂãïËßíËâ≤
    function moveCharacter(direction) {
        const step = 30; // ÊØèÊ¨°ÁßªÂãïÂÉèÁ¥†
        const maxX = gameArea.clientWidth - character.clientWidth;

        if (direction === 'left' && posX > 0) {
            posX -= step;
        } else if (direction === 'right' && posX < maxX) {
            posX += step;
        } else if (direction === 'jump') {
            jump();
            return; // Ë∑≥Ë∫ç‰∏çÊîπËÆä X Ëª∏
        }
        updateCharacterPosition();
    }

    // Ë∑≥Ë∫çÂäüËÉΩ
    function jump() {
        const jumpHeight = 150;
        const originalY = posY;

        character.style.bottom = `${originalY + jumpHeight}px`;
        setTimeout(() => {
            character.style.bottom = `${originalY}px`;
        }, 500);
    }

    // Êõ¥Êñ∞ËßíËâ≤‰ΩçÁΩÆ
    function updateCharacterPosition() {
        character.style.left = `${posX}px`;
    }

    // ÊåâÈàïÈªûÊìä‰∫ã‰ª∂
    document.getElementById('btnLeft').addEventListener('click', () => moveCharacter('left'));
    document.getElementById('btnRight').addEventListener('click', () => moveCharacter('right'));
    document.getElementById('btnJump').addEventListener('click', () => moveCharacter('jump'));

    // ÊâãÊ©üÊªëÂãï‰∫ã‰ª∂ÊîØÊè¥
    let touchStartX = 0;

    gameArea.addEventListener('touchstart', (e) => {
        touchStartX = e.touches[0].clientX;
    });

    gameArea.addEventListener('touchmove', (e) => {
        const touchX = e.touches[0].clientX;
        if (touchX < touchStartX - 50) {
            moveCharacter('left');
            touchStartX = touchX;
        } else if (touchX > touchStartX + 50) {
            moveCharacter('right');
            touchStartX = touchX;
        }
    });
</script>
</body>
</html>
